{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\David\\\\Downloads\\\\Pyitonit\\\\PROJS\\\\GDG 3\\\\gdg-edtech-hackathon\\\\frontend\\\\src\\\\components\\\\InteractionComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\n\n// Get the base backend URL (without the /api part) for image paths\n// Handles cases where REACT_APP_API_URL might be http://host:port/api\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst backendBaseUrl = (process.env.REACT_APP_API_URL || 'http://localhost:8080/api').replace(/\\/api$/, ''); // Remove trailing /api if present\n\nfunction InteractionComponent({\n  interactionData,\n  onSubmitAnswer,\n  isLoading\n}) {\n  _s();\n  const [answer, setAnswer] = useState('');\n  useEffect(() => {\n    setAnswer('');\n  }, [interactionData]);\n  if (!interactionData) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading interaction...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Destructure image_url along with other properties\n  const {\n    material,\n    question_for_user,\n    session_finished,\n    image_url\n  } = interactionData;\n\n  // Should not happen in MVP as we go to results, but good practice\n  if (session_finished) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Session has already finished.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 14\n    }, this);\n  }\n  const handleSubmit = e => {\n    e.preventDefault();\n    // Allow submitting empty answer if needed (e.g., just to continue)\n    // Original logic: if (answer.trim() || question_for_user)\n    // Let's allow submit always if not loading, backend handles empty answer if needed\n    if (!isLoading) {\n      onSubmitAnswer(answer);\n      // Keep answer field for now, might clear later if needed\n      // setAnswer('');\n    }\n  };\n\n  // Construct the full image URL for the src attribute\n  const fullImageUrl = image_url ? `${backendBaseUrl}${image_url}` : null;\n  // console.log(\"Full Image URL:\", fullImageUrl); // For debugging\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"interaction-container\",\n    children: [isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-overlay\",\n      children: \"Processing...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 21\n    }, this), material && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"material-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Learning Material:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          whiteSpace: 'pre-wrap',\n          background: '#f8f9fa',\n          padding: '10px',\n          borderRadius: '4px',\n          border: '1px solid #dee2e6',\n          marginBottom: '15px'\n        },\n        children: material\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), fullImageUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"generated-image\",\n      style: {\n        margin: '20px 0',\n        textAlign: 'center',\n        border: '1px solid #eee',\n        padding: '10px',\n        borderRadius: '4px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: fullImageUrl,\n        alt: \"AI-generated visual related to the learning material\",\n        style: {\n          maxWidth: '100%',\n          maxHeight: '400px',\n          display: 'block',\n          margin: '0 auto'\n        }\n        // Optional: Add error handling for broken images\n        ,\n        onError: e => {\n          e.target.style.display = 'none'; /* Hide broken image icon */\n          e.target.onerror = null;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '0.8em',\n          color: '#777',\n          marginTop: '8px',\n          fontStyle: 'italic'\n        },\n        children: \"AI-generated image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), question_for_user && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"question-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Question:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: question_for_user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: answer,\n          onChange: e => setAnswer(e.target.value),\n          placeholder: \"Your answer...\",\n          rows: \"4\",\n          disabled: isLoading,\n          style: {\n            width: 'calc(100% - 22px)',\n            marginBottom: '10px'\n          } // Adjust width slightly\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: isLoading,\n          children: \"Submit Answer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this), material && !question_for_user && !session_finished && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      style: {\n        marginTop: '15px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading,\n        children: \"Continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 12\n    }, this), !material && !question_for_user && !session_finished && !isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Waiting for the next step...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(InteractionComponent, \"dOASnFDgECg0lV2u636icfza9eQ=\");\n_c = InteractionComponent;\nexport default InteractionComponent;\nvar _c;\n$RefreshReg$(_c, \"InteractionComponent\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","backendBaseUrl","process","env","REACT_APP_API_URL","replace","InteractionComponent","interactionData","onSubmitAnswer","isLoading","_s","answer","setAnswer","children","fileName","_jsxFileName","lineNumber","columnNumber","material","question_for_user","session_finished","image_url","handleSubmit","e","preventDefault","fullImageUrl","className","style","whiteSpace","background","padding","borderRadius","border","marginBottom","margin","textAlign","src","alt","maxWidth","maxHeight","display","onError","target","onerror","fontSize","color","marginTop","fontStyle","onSubmit","value","onChange","placeholder","rows","disabled","width","type","_c","$RefreshReg$"],"sources":["C:/Users/David/Downloads/Pyitonit/PROJS/GDG 3/gdg-edtech-hackathon/frontend/src/components/InteractionComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\n// Get the base backend URL (without the /api part) for image paths\r\n// Handles cases where REACT_APP_API_URL might be http://host:port/api\r\nconst backendBaseUrl = (process.env.REACT_APP_API_URL || 'http://localhost:8080/api')\r\n                        .replace(/\\/api$/, ''); // Remove trailing /api if present\r\n\r\nfunction InteractionComponent({ interactionData, onSubmitAnswer, isLoading }) {\r\n  const [answer, setAnswer] = useState('');\r\n\r\n  useEffect(() => {\r\n      setAnswer('');\r\n  }, [interactionData]);\r\n\r\n  if (!interactionData) {\r\n    return <p>Loading interaction...</p>;\r\n  }\r\n\r\n  // Destructure image_url along with other properties\r\n  const { material, question_for_user, session_finished, image_url } = interactionData;\r\n\r\n  // Should not happen in MVP as we go to results, but good practice\r\n  if (session_finished) {\r\n      return <p>Session has already finished.</p>\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // Allow submitting empty answer if needed (e.g., just to continue)\r\n    // Original logic: if (answer.trim() || question_for_user)\r\n    // Let's allow submit always if not loading, backend handles empty answer if needed\r\n    if (!isLoading) {\r\n        onSubmitAnswer(answer);\r\n        // Keep answer field for now, might clear later if needed\r\n        // setAnswer('');\r\n    }\r\n  };\r\n\r\n  // Construct the full image URL for the src attribute\r\n  const fullImageUrl = image_url ? `${backendBaseUrl}${image_url}` : null;\r\n  // console.log(\"Full Image URL:\", fullImageUrl); // For debugging\r\n\r\n  return (\r\n    <div className=\"interaction-container\">\r\n      {isLoading && <div className=\"loading-overlay\">Processing...</div>}\r\n\r\n      {/* Material Section */}\r\n      {material && (\r\n        <div className=\"material-section\">\r\n          <h3>Learning Material:</h3>\r\n          {/* Use a div for potentially mixed content, or pre for code */}\r\n          <div style={{ whiteSpace: 'pre-wrap', background: '#f8f9fa', padding: '10px', borderRadius: '4px', border: '1px solid #dee2e6', marginBottom: '15px' }}>\r\n            {material}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Generated Image Section (Conditional) */}\r\n      {fullImageUrl && (\r\n        <div className=\"generated-image\" style={{ margin: '20px 0', textAlign: 'center', border: '1px solid #eee', padding: '10px', borderRadius: '4px' }}>\r\n          <img\r\n            src={fullImageUrl}\r\n            alt=\"AI-generated visual related to the learning material\"\r\n            style={{ maxWidth: '100%', maxHeight: '400px', display: 'block', margin: '0 auto' }}\r\n            // Optional: Add error handling for broken images\r\n            onError={(e) => { e.target.style.display='none'; /* Hide broken image icon */ e.target.onerror = null; }}\r\n          />\r\n          <p style={{ fontSize: '0.8em', color: '#777', marginTop: '8px', fontStyle: 'italic' }}>AI-generated image</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Question and Answer Section */}\r\n      {question_for_user && (\r\n        <div className=\"question-section\">\r\n          <h3>Question:</h3>\r\n          <p>{question_for_user}</p>\r\n          <form onSubmit={handleSubmit}>\r\n            <textarea\r\n              value={answer}\r\n              onChange={(e) => setAnswer(e.target.value)}\r\n              placeholder=\"Your answer...\"\r\n              rows=\"4\"\r\n              disabled={isLoading}\r\n              style={{ width: 'calc(100% - 22px)', marginBottom: '10px' }} // Adjust width slightly\r\n            />\r\n            <button type=\"submit\" disabled={isLoading}>Submit Answer</button>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      {/* Continue Button (if material but no question) */}\r\n      {material && !question_for_user && !session_finished && (\r\n           <form onSubmit={handleSubmit} style={{ marginTop: '15px' }}>\r\n                <button type=\"submit\" disabled={isLoading}>Continue</button>\r\n           </form>\r\n       )}\r\n\r\n       {/* Fallback message if interaction state is unusual */}\r\n       {!material && !question_for_user && !session_finished && !isLoading && (\r\n            <p>Waiting for the next step...</p>\r\n       )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InteractionComponent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}